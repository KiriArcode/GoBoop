Architecture Overview: GoBoop

1. High-Level Concept

GoBoop is a Telegram Mini App (TMA) built on Next.js. It provides a mobile-first interface within Telegram and relies on a component-based architecture with a focus on immediate UI feedback. Backend: Supabase + Google Drive.

2. Technical Stack

Frontend Core: Next.js 14+ (App Router)

Build Tool: Next.js (Turbopack / Webpack)

Language: TypeScript

Styling: Tailwind CSS (Utility-first)

Icons: Lucide React (Lightweight, consistent SVG icons)

Animations: CSS Transitions + Tailwind animate- classes

3. Data Flow (Architecture)

Backend: Supabase (PostgreSQL) — метаданные (users, pets, tasks, events, photo links)

File Storage: Google Drive API — фото, документы, чеки

Auth: Supabase Auth / Telegram Login Widget

State Management: React Context API (for UserAuth and PetGlobalData), Server Components where applicable

4. Directory Structure (Next.js App Router)

/app
  /api           # API routes (bot webhook, integrations)
  /(routes)      # Dashboard, Health, Travel, Family pages
  layout.tsx
  page.tsx
/components
  /ui            # Atomic components (Card, Button, Input)
  /widgets       # Complex blocks (HappinessWidget, WalkTimer)
  /modals        # Overlays (QuickActionMenu)
/lib             # Supabase client, Drive helpers, utilities
/hooks           # useWalkTimer, useHappinessIndex
/public          # Static assets

5. Key Algorithms

Smart Weight Calculation: (Weight_With_Pet - Weight_Human) = Pet_Weight.

Happiness Index: Decaying value over time, boosted by user interactions (Logarithmic scale).

Travel Timeline: Reverse calculation from Departure_Date based on Rule_Set (e.g., Titer test = Date - 90 days).
